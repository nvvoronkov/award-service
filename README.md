
## Функциональные требования
- REST API для загрузки файла – AwardImportController.importAwards.
- Формат строки – AwardUploadRow.
- Проверка существования сотрудника – AwardImportService.importAwards.
- Сохранение только валидных наград – awardRepository.save(...) вызывается только для существующих сотрудников. 
## Нефункциональные
- Масштабируемость: WebFlux + R2DBC, потоковая обработка.
- Производительность: один запрос для проверки сотрудников, индекс по employee_id.
- Надёжность: Flyway миграции, сбор ошибок по строкам, уникальное ограничение.
- Тестируемость: юнит- и интеграционные тесты.

## Что можно улучшить в коде
### Стриминг без загрузки всего файла в память
#### Сейчас в контроллере я для простоты собираю DataBuffer в один ByteArrayInputStream. В реальном проекте лучше:
- читать файл построчно/построчечно без полного буфера (особенно для больших файлов);
- использовать Flux<DataBuffer> → Flux<String> (разбивать по строкам).
### Более строгая валидация
- Использовать Bean Validation (@NotNull, @Pattern) на уровне DTO.
- Разделить ошибки формата файла и бизнес-ошибки (например, в отчёте указать тип).
### Батч-вставка наград
- Вместо save по одной, использовать батч-операции или кастомный репозиторий с INSERT ... VALUES ..., чтобы ускорить импорт больших файлов.
### Локализация сообщений об ошибках
- Сейчас строки жёстко зашиты на русском. Можно вынести в messages.properties и поддерживать мультиязычность.
### Логирование и метрики
- Добавить Slf4j-логирование (количество импортированных строк, время импорта, причины ошибок).
- Включить Micrometer + Prometheus/Actuator для мониторинга.
### Безопасность
- Добавить Spring Security (JWT/Basic) – ограничить доступ к API импорта.
- Ограничить максимальный размер файла и типы контента.
### Обработка конкуренции
- Если импорт запускают параллельно, возможны гонки по UNIQUE (одинаковые награды). Можно:
 - использовать ON CONFLICT DO NOTHING через кастомный SQL;
 - либо явно обрабатывать DuplicateKeyException.
### Разделение парсеров по интерфейсу
- Ввести интерфейс AwardFileParser и фабрику по расширению файла → упростит расширение для новых форматов (JSON, XML и т.п.)